<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.ee12c5a460b129e4786d.css">img{max-width:100%}dt{display:inline-block;padding-right:6px}h1{-webkit-margin-before:1;margin-block-start:1}body{margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}code{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}</style><meta name="generator" content="Gatsby 2.10.0"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link as="script" rel="preload" href="/component---src-templates-post-js-fb9a12859f0e201b34b4.js"/><link as="script" rel="preload" href="/4-7a4e0e2ea28e1bc2a6ef.js"/><link as="script" rel="preload" href="/app-3fd06954e5c92ddf660c.js"/><link as="script" rel="preload" href="/styles-f4e7c8d85b96d5d03cbb.js"/><link as="script" rel="preload" href="/webpack-runtime-ee665e3c287683a90965.js"/><link as="fetch" rel="preload" href="/page-data/browser_particles/page-data.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div style="margin-left:auto;margin-right:auto;max-width:600px;padding-left:15px;padding-right:15px"><div style="display:table-row"><div style="display:table-cell;padding-right:7px"><a href="/"><img alt="Go Home" height="30" src="/home_icon.png" style="vertical-align:text-bottom"/></a></div><div style="display:table-cell"><h1>Browser Particles</h1></div></div><time dateTime="2013-07-29">2013-07-29</time><dl><dt>programming</dt></dl><article><p>I have been working on a mobile game with M&#x26;M Entertainment again, and our new game calls for a particle-based animation on top of the gameboard. I went to work in OpenGL ES building an Objective-C module for the mostly-complete Titanium app. Setting up the GLKit view, textures and geometries, communicating which textures are needed and when, and then cleaning up the objects after they are used turns out to be a pretty complex set of tasks. That stuff produces great results, but was eating more time that I would have preferred. I decided to use a WebView and "HTML5" techniques to render a graphics on top of the gameboard.</p>
<p>The question then became how to render the dynamic particles and move them in the most performant way in a webkit browser. A quick internet search returned loads of articles about turning on the GPU by using <code>translateZ</code> in CSS3. It's true that elements with that bit of CSS will be sent to the GPU. But, in the case of dynamically positioned particles, every time we set the position in CSS, the element would have to be sent again to the GPU. In 2D CSS, it turns out faster to just move the particles without the GPU. Here is an example of doing that smoothly with 500 small images.</p>
<p>The &#x3C;canvas> element provides a way to render dynamic particles with the GPU. <a href="https://bl.ocks.org/jbeuckm/5971531">Here</a> is an example that moves 2000 particles with the canvas. It works great on webkit in iOS and we're using it for the game.</p>
<p><img src="/browser_particles-231eaf14724423fdb52d1f1df0e841be.png" alt="browser_particles.png"></p>
<p>Where WebGL is available, it enables the best possible performance for the dynamic particles. There are demos with one or two MILLIONs of particles that work smoothly in the browser.</p></article><div style="width:100%;position:relative;padding-top:40px;margin-bottom:40px"><span style="float:left"><div><a href="/roland_system_100_clone">&lt; newer</a></div><div><em>Roland system 100 clone</em></div></span><span style="float:right;text-align:right"><div><a href="/k_means_in_js">older &gt;</a></div><div><em>K-Means In JS</em></div></span><div style="clear:both;height:1px"></div></div></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-6502690-13', 'auto', {});
      
      
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/browser_particles";window.webpackCompilationHash="3a02c3f52678b5a86b89";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-3fd06954e5c92ddf660c.js"],"component---src-templates-post-js":["/component---src-templates-post-js-fb9a12859f0e201b34b4.js"],"component---src-pages-fdg-js":["/component---src-pages-fdg-js-dba44f64bb903585cd44.js"],"component---src-pages-fdp-js":["/component---src-pages-fdp-js-29f59a092633e2f62a64.js"],"component---src-pages-fdsp-js":["/component---src-pages-fdsp-js-d5414c1d467e10c029a5.js"],"component---src-pages-force-directed-graph-demo-index-js":["/component---src-pages-force-directed-graph-demo-index-js-03fd298b4877c7b3927f.js"],"component---src-pages-force-directed-posts-index-js":["/component---src-pages-force-directed-posts-index-js-bccac1cb3a0e22e736dd.js"],"component---src-pages-force-directed-snapped-posts-index-js":["/component---src-pages-force-directed-snapped-posts-index-js-f86cf6d5932de4d29ea9.js"],"component---src-pages-force-directed-snapped-posts-play-pause-button-js":["/component---src-pages-force-directed-snapped-posts-play-pause-button-js-8a6d713bfb23e3a50b3c.js"],"component---src-pages-ifdp-js":["/component---src-pages-ifdp-js-6119892896b0cbb84e82.js"],"component---src-pages-incremented-force-directed-posts-index-js":["/component---src-pages-incremented-force-directed-posts-index-js-b837d8e1891822e4c095.js"],"component---src-pages-incremented-force-directed-posts-play-pause-button-js":["/component---src-pages-incremented-force-directed-posts-play-pause-button-js-efca96c27a7da68d2fa8.js"],"component---src-pages-index-js":["/component---src-pages-index-js-79eb2f32316b341c9ccf.js"]};/*]]>*/</script><script src="/webpack-runtime-ee665e3c287683a90965.js" async=""></script><script src="/styles-f4e7c8d85b96d5d03cbb.js" async=""></script><script src="/app-3fd06954e5c92ddf660c.js" async=""></script><script src="/4-7a4e0e2ea28e1bc2a6ef.js" async=""></script><script src="/component---src-templates-post-js-fb9a12859f0e201b34b4.js" async=""></script></body></html>