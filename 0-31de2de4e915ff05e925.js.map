{"version":3,"sources":["webpack:///./node_modules/mappersmith/utils.js","webpack:///./node_modules/mappersmith/index.js","webpack:///./node_modules/mappersmith/middleware/encode-json.js","webpack:///./node_modules/mappersmith/mappersmith.js","webpack:///./node_modules/mappersmith/response.js","webpack:///./node_modules/mappersmith/gateway/timeout-error.js","webpack:///./node_modules/mappersmith/client-builder.js","webpack:///./node_modules/mappersmith/manifest.js","webpack:///./node_modules/mappersmith/method-descriptor.js","webpack:///./node_modules/mappersmith/request.js","webpack:///./node_modules/mappersmith/gateway/xhr.js","webpack:///./node_modules/mappersmith/gateway.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_process","getNanoSeconds","loadTime","Object","defineProperty","exports","value","toQueryString","performanceNow","parseResponseHeaders","lowerCaseObjectKeys","isPlainObject","btoa","assign","buildRecursive","validKeys","eval","e","hasProcessHrtime","hrtime","hr","R20","entry","keys","filter","key","undefined","suffix","isArray","Array","isObject","map","v","join","k","concat","encodeURIComponent","replace","Date","now","headerStr","headers","headerPairs","split","i","length","headerPair","index","indexOf","substring","toLowerCase","trim","val","reduce","target","hasOwnProperty","arguments","source","call","toString","getPrototypeOf","CHARS","input","block","charCode","output","str","String","idx","charAt","charCodeAt","Error","lib","__webpack_require__","defaultGateway","XMLHttpRequest","default","configs","gateway","module","CONTENT_TYPE_JSON","_default","prepareRequest","next","then","request","body","enhance","content-type","JSON","stringify","manifest","_clientBuilder","build","setContext","version","__esModule","_utils","context","middleware","Promise","fetch","maxMiddlewareStackExecutionAllowed","gatewayConfigs","emulateHTTP","enableHTTP408OnTimeouts","XHR","withCredentials","configure","HTTP","Fetch","credentials","_toConsumableArray","arr","arr2","_arrayWithoutHoles","iter","from","_iterableToArray","TypeError","_nonIterableSpread","REGEXP_CONTENT_TYPE_JSON","Response","originalRequest","responseStatus","responseData","responseHeaders","errors","requestParams","auth","maskedAuth","password","this","timeElapsed","status","success","header","name","rawData","data","isContentTypeJSON","parse","test","error","lastError","extras","createTimeoutError","isTimeoutError","message","_manifest","_interopRequireDefault","_request","ClientBuilder","GatewayClassFactory","_this","client","eachResource","methods","buildResource","resourceName","_this2","resource","method","descriptor","invokeMiddlewares","enumerable","configurable","writable","resourceMethod","initialRequest","_this3","createMiddleware","GatewayClass","requestPhaseFailureContext","returnedInvalidRequest","abortExecution","abort","resolve","typeValue","prettyType","__name","catch","executions","reject","executeMiddlewareStack","stack","finalRequest","renew","response","execute","_methodDescriptor","Manifest","_ref","_ref$gatewayConfigs","_ref$middleware","_ref$context","host","bodyAttr","headersAttr","authAttr","timeoutAttr","clientId","resources","clientMiddleware","middlewares","ignoreGlobalMiddleware","callback","forEach","eachMethod","methodName","createMethodDescriptor","definition","path","args","middlewareFactory","req","params","queryParamAlias","binary","REGEXP_DYNAMIC_SEGMENT","REGEXP_TRAILING_SLASH","Request","methodDescriptor","isParam","pattern","RegExp","missingDynamicSegmentMatch","match","aliasedParams","aliased","queryString","hasQuery","includes","url","timeout","headerKey","bodyKey","authKey","timeoutKey","isBinary","_gateway","_response","_timeoutError","toBase64","window","apply","extends","get","xmlHttpRequest","createXHR","open","setHeaders","configureTimeout","configureBinary","send","head","post","performRequest","put","patch","delete","responseType","canceled","timer","addEventListener","clearTimeout","dispatchClientError","setTimeout","configureCallbacks","dispatchResponse","createResponse","guessedErrorCause","responseText","enhancedMessage","xhrOptions","options","requestMethod","shouldEmulateHTTP","toUpperCase","customHeaders","prepareBody","push","getAllResponseHeaders","username","headerName","setRequestHeader","_mappersmith","REGEXP_EMULATE_HTTP","Gateway","successCallback","failCallback","_arguments","timeStart","_method","bodyString"],"mappings":"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","file":"0-31de2de4e915ff05e925.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toQueryString = toQueryString;\nexports.performanceNow = performanceNow;\nexports.parseResponseHeaders = parseResponseHeaders;\nexports.lowerCaseObjectKeys = lowerCaseObjectKeys;\nexports.isPlainObject = isPlainObject;\nexports.btoa = exports.assign = exports.buildRecursive = exports.validKeys = void 0;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _process, getNanoSeconds, loadTime;\n\ntry {\n  _process = eval('typeof __TEST_WEB__ === \"undefined\" && typeof process === \"object\" ? process : undefined');\n} catch (e) {} // eslint-disable-line no-eval\n\n\nvar hasProcessHrtime = function hasProcessHrtime() {\n  return typeof _process !== 'undefined' && _process !== null && _process.hrtime;\n};\n\nif (hasProcessHrtime()) {\n  getNanoSeconds = function getNanoSeconds() {\n    var hr = _process.hrtime();\n\n    return hr[0] * 1e9 + hr[1];\n  };\n\n  loadTime = getNanoSeconds();\n}\n\nvar R20 = /%20/g;\n\nvar validKeys = function validKeys(entry) {\n  return Object.keys(entry).filter(function (key) {\n    return entry[key] !== undefined && entry[key] !== null;\n  });\n};\n\nexports.validKeys = validKeys;\n\nvar buildRecursive = function buildRecursive(key, value, suffix) {\n  suffix = suffix || '';\n  var isArray = Array.isArray(value);\n  var isObject = _typeof(value) === 'object';\n\n  if (!isArray && !isObject) {\n    return \"\".concat(encodeURIComponent(key + suffix), \"=\").concat(encodeURIComponent(value));\n  }\n\n  if (isArray) {\n    return value.map(function (v) {\n      return buildRecursive(key, v, suffix + '[]');\n    }).join('&');\n  }\n\n  return validKeys(value).map(function (k) {\n    return buildRecursive(key, value[k], suffix + '[' + k + ']');\n  }).join('&');\n};\n\nexports.buildRecursive = buildRecursive;\n\nfunction toQueryString(entry) {\n  if (!isPlainObject(entry)) {\n    return entry;\n  }\n\n  return validKeys(entry).map(function (key) {\n    return buildRecursive(key, entry[key]);\n  }).join('&').replace(R20, '+');\n}\n/**\n * Gives time in miliseconds, but with sub-milisecond precision for Browser\n * and Nodejs\n */\n\n\nfunction performanceNow() {\n  if (hasProcessHrtime()) {\n    return (getNanoSeconds() - loadTime) / 1e6;\n  }\n\n  return Date.now();\n}\n/**\n * borrowed from: {@link https://gist.github.com/monsur/706839}\n * XmlHttpRequest's getAllResponseHeaders() method returns a string of response\n * headers according to the format described here:\n * {@link http://www.w3.org/TR/XMLHttpRequest/#the-getallresponseheaders-method}\n * This method parses that string into a user-friendly key/value pair object.\n */\n\n\nfunction parseResponseHeaders(headerStr) {\n  var headers = {};\n\n  if (!headerStr) {\n    return headers;\n  }\n\n  var headerPairs = headerStr.split(\"\\r\\n\");\n\n  for (var i = 0; i < headerPairs.length; i++) {\n    var headerPair = headerPairs[i]; // Can't use split() here because it does the wrong thing\n    // if the header value has the string \": \" in it.\n\n    var index = headerPair.indexOf(\": \");\n\n    if (index > 0) {\n      var key = headerPair.substring(0, index).toLowerCase().trim();\n      var val = headerPair.substring(index + 2).trim();\n      headers[key] = val;\n    }\n  }\n\n  return headers;\n}\n\nfunction lowerCaseObjectKeys(obj) {\n  return Object.keys(obj).reduce(function (target, key) {\n    target[key.toLowerCase()] = obj[key];\n    return target;\n  }, {});\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar assign = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nexports.assign = assign;\nvar toString = Object.prototype.toString;\n\nfunction isPlainObject(value) {\n  return toString.call(value) === '[object Object]' && Object.getPrototypeOf(value) === Object.getPrototypeOf({});\n}\n/**\n * borrowed from: {@link https://github.com/davidchambers/Base64.js}\n */\n\n\nvar CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nvar btoa = function btoa(input) {\n  var output = '';\n  var map = CHARS;\n  var str = String(input);\n\n  for ( // initialize result and counter\n  var block, charCode, idx = 0; // if the next str index does not exist:\n  //   change the mapping table to \"=\"\n  //   check if d has no fractional digits\n  str.charAt(idx | 0) || (map = '=', idx % 1); // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n  output += map.charAt(63 & block >> 8 - idx % 1 * 8)) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n\n    if (charCode > 0xFF) {\n      throw new Error(\"[Mappersmith] 'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\");\n    }\n\n    block = block << 8 | charCode;\n  }\n\n  return output;\n};\n\nexports.btoa = btoa;","\"use strict\";\n\nvar lib = require('./mappersmith');\n\nvar _process, defaultGateway; // Prevents webpack to load the nodejs processs polyfill\n\n\ntry {\n  _process = eval('typeof process === \"object\" ? process : undefined');\n} catch (e) {} // eslint-disable-line no-eval\n\n\nif (typeof XMLHttpRequest !== 'undefined') {\n  // For browsers use XHR adapter\n  defaultGateway = require('./gateway/xhr').default;\n} else if (typeof _process !== 'undefined') {\n  // For node use HTTP adapter\n  defaultGateway = require('./gateway/http').default;\n}\n\nlib.configs.gateway = defaultGateway;\nmodule.exports = lib;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.CONTENT_TYPE_JSON = void 0;\nvar CONTENT_TYPE_JSON = 'application/json;charset=utf-8';\n/**\n * Automatically encode your objects into JSON\n *\n * Example:\n * client.User.all({ body: { name: 'bob' } })\n * // => body: {\"name\":\"bob\"}\n * // => header: \"Content-Type=application/json;charset=utf-8\"\n */\n\nexports.CONTENT_TYPE_JSON = CONTENT_TYPE_JSON;\n\nvar EncodeJsonMiddleware = function EncodeJsonMiddleware() {\n  return {\n    prepareRequest: function prepareRequest(next) {\n      return next().then(function (request) {\n        try {\n          if (request.body()) {\n            return request.enhance({\n              headers: {\n                'content-type': CONTENT_TYPE_JSON\n              },\n              body: JSON.stringify(request.body())\n            });\n          }\n        } catch (e) {}\n\n        return request;\n      });\n    }\n  };\n};\n\nvar _default = EncodeJsonMiddleware;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = forge;\nexports.setContext = exports.configs = exports.version = void 0;\n\nvar _clientBuilder = _interopRequireDefault(require(\"./client-builder\"));\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* global VERSION */\nvar version = \"2.28.0\";\nexports.version = version;\nvar configs = {\n  context: {},\n  middleware: [],\n  Promise: typeof Promise === 'function' ? Promise : null,\n  fetch: typeof fetch === 'function' ? fetch : null,\n  // eslint-disable-line no-undef\n\n  /**\n   * The maximum amount of executions allowed before it is considered an infinite loop.\n   * In the response phase of middleware, it's possible to execute a function called \"renew\",\n   * which can be used to rerun the middleware stack. This feature is useful in some scenarios,\n   * for example, re-fetching an invalid access token.\n    * This configuration is used to detect infinite loops, don't increase this value too much\n   * @default 2\n   */\n  maxMiddlewareStackExecutionAllowed: 2,\n\n  /**\n   * Gateway implementation, it defaults to \"lib/gateway/xhr\" for browsers and\n   * \"lib/gateway/http\" for node\n   */\n  gateway: null,\n  gatewayConfigs: {\n    /**\n     * Setting this option will fake PUT, PATCH and DELETE requests with a HTTP POST. It will\n     * add \"_method\" and \"X-HTTP-Method-Override\" with the original requested method\n     * @default false\n     */\n    emulateHTTP: false,\n\n    /**\n     * Setting this option will return HTTP status 408 (Request Timeout) when a request times\n     * out. When \"false\", HTTP status 400 (Bad Request) will be used instead.\n     * @default false\n     */\n    enableHTTP408OnTimeouts: false,\n    XHR: {\n      /**\n       * Indicates whether or not cross-site Access-Control requests should be made using credentials\n       * such as cookies, authorization headers or TLS client certificates.\n       * Setting withCredentials has no effect on same-site requests\n       *\n       * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/withCredentials\n       *\n       * @default false\n       */\n      withCredentials: false,\n\n      /**\n       * For aditional configurations to the XMLHttpRequest object.\n       * @param {XMLHttpRequest} xhr\n       * @default null\n       */\n      configure: null\n    },\n    HTTP: {\n      /**\n       * For additional configurations to the http/https module\n       * For http: https://nodejs.org/api/http.html#http_http_request_options_callback\n       * For https: https://nodejs.org/api/https.html#https_https_request_options_callback\n       *\n       * @param {object} options\n       * @default null\n       */\n      configure: null\n    },\n    Fetch: {\n      /**\n       * Indicates whether the user agent should send cookies from the other domain in the case of cross-origin\n       * requests. This is similar to XHRâ€™s withCredentials flag, but with three available values (instead of two):\n       *\n       * \"omit\": Never send cookies.\n       * \"same-origin\": Only send cookies if the URL is on the same origin as the calling script.\n       * \"include\": Always send cookies, even for cross-origin calls.\n       *\n       * https://developer.mozilla.org/en-US/docs/Web/API/Request/credentials\n       *\n       * @default \"omit\"\n       */\n      credentials: 'omit'\n    }\n  }\n  /**\n   * @param {Object} context\n   */\n\n};\nexports.configs = configs;\n\nvar setContext = function setContext(context) {\n  configs.context = (0, _utils.assign)(configs.context, context);\n};\n/**\n * @param {Object} manifest\n */\n\n\nexports.setContext = setContext;\n\nfunction forge(manifest) {\n  var GatewayClassFactory = function GatewayClassFactory() {\n    return configs.gateway;\n  };\n\n  return new _clientBuilder.default(manifest, GatewayClassFactory, configs).build();\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _utils = require(\"./utils\");\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nvar REGEXP_CONTENT_TYPE_JSON = /^application\\/json/;\n/**\n * @typedef Response\n * @param {Request} originalRequest, for auth it hides the password\n * @param {Integer} responseStatus\n * @param {String} responseData, defaults to null\n * @param {Object} responseHeaders, defaults to an empty object ({})\n * @param {Array<Error>} errors, defaults to an empty array ([])\n */\n\nfunction Response(originalRequest, responseStatus, responseData, responseHeaders, errors) {\n  if (originalRequest.requestParams && originalRequest.requestParams.auth) {\n    var maskedAuth = (0, _utils.assign)({}, originalRequest.requestParams.auth, {\n      password: '***'\n    });\n    this.originalRequest = originalRequest.enhance({\n      auth: maskedAuth\n    });\n  } else {\n    this.originalRequest = originalRequest;\n  }\n\n  this.responseStatus = responseStatus;\n  this.responseData = responseData !== undefined ? responseData : null;\n  this.responseHeaders = responseHeaders || {};\n  this.errors = errors || [];\n  this.timeElapsed = null;\n}\n\nResponse.prototype = {\n  /**\n   * @return {Request}\n   */\n  request: function request() {\n    return this.originalRequest;\n  },\n\n  /**\n   * @return {Integer}\n   */\n  status: function status() {\n    // IE sends 1223 instead of 204\n    if (this.responseStatus === 1223) {\n      return 204;\n    }\n\n    return this.responseStatus;\n  },\n\n  /**\n   * Returns true if status is greater or equal 200 or lower than 400\n   *\n   * @return {Boolean}\n   */\n  success: function success() {\n    var status = this.status();\n    return status >= 200 && status < 400;\n  },\n\n  /**\n   * Returns an object with the headers. Header names are converted to\n   * lowercase\n   *\n   * @return {Object}\n   */\n  headers: function headers() {\n    return (0, _utils.lowerCaseObjectKeys)(this.responseHeaders);\n  },\n\n  /**\n   * Utility method to get a header value by name\n   *\n   * @param {String} name\n   *\n   * @return {String|Undefined}\n   */\n  header: function header(name) {\n    return this.headers()[name.toLowerCase()];\n  },\n\n  /**\n   * Returns the original response data\n   */\n  rawData: function rawData() {\n    return this.responseData;\n  },\n\n  /**\n   * Returns the response data, if \"Content-Type\" is \"application/json\"\n   * it parses the response and returns an object\n   *\n   * @return {String|Object}\n   */\n  data: function data() {\n    var data = this.responseData;\n\n    if (this.isContentTypeJSON()) {\n      try {\n        data = JSON.parse(this.responseData);\n      } catch (e) {}\n    }\n\n    return data;\n  },\n  isContentTypeJSON: function isContentTypeJSON() {\n    return REGEXP_CONTENT_TYPE_JSON.test(this.headers()['content-type']);\n  },\n\n  /**\n   * Returns the last error instance that caused the request to fail\n   *\n   * @return {Error|null}\n   */\n  error: function error() {\n    var lastError = this.errors[this.errors.length - 1] || null;\n\n    if (typeof lastError === 'string') {\n      return new Error(lastError);\n    }\n\n    return lastError;\n  },\n\n  /**\n   * Enhances current Response returning a new Response\n   *\n   * @param {Object} extras\n   *   @param {Integer} extras.status - it will replace the current status\n   *   @param {String} extras.rawData - it will replace the current rawData\n   *   @param {Object} extras.headers - it will be merged with current headers\n   *   @param {Error} extras.error    - it will be added to the list of errors\n   *\n   * @return {Response}\n   */\n  enhance: function enhance(extras) {\n    return new Response(this.request(), extras.status || this.status(), extras.rawData || this.rawData(), (0, _utils.assign)({}, this.headers(), extras.headers), _toConsumableArray(this.errors).concat([extras.error]));\n  }\n};\nvar _default = Response;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createTimeoutError = exports.isTimeoutError = void 0;\n\nvar isTimeoutError = function isTimeoutError(e) {\n  return e && e.name === 'TimeoutError';\n};\n\nexports.isTimeoutError = isTimeoutError;\n\nvar createTimeoutError = function createTimeoutError(message) {\n  var error = new Error(message);\n  error.name = 'TimeoutError';\n  return error;\n};\n\nexports.createTimeoutError = createTimeoutError;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _manifest = _interopRequireDefault(require(\"./manifest\"));\n\nvar _request = _interopRequireDefault(require(\"./request\"));\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * @typedef ClientBuilder\n * @param {Object} manifest - manifest definition with at least the `resources` key\n * @param {Function} GatewayClassFactory - factory function that returns a gateway class\n */\nfunction ClientBuilder(manifest, GatewayClassFactory, configs) {\n  if (!manifest) {\n    throw new Error(\"[Mappersmith] invalid manifest (\".concat(manifest, \")\"));\n  }\n\n  if (!GatewayClassFactory || !GatewayClassFactory()) {\n    throw new Error('[Mappersmith] gateway class not configured (configs.gateway)');\n  }\n\n  this.Promise = configs.Promise;\n  this.manifest = new _manifest.default(manifest, configs);\n  this.GatewayClassFactory = GatewayClassFactory;\n  this.maxMiddlewareStackExecutionAllowed = configs.maxMiddlewareStackExecutionAllowed;\n}\n\nClientBuilder.prototype = {\n  build: function build() {\n    var _this = this;\n\n    var client = {\n      _manifest: this.manifest\n    };\n    this.manifest.eachResource(function (name, methods) {\n      client[name] = _this.buildResource(name, methods);\n    });\n    return client;\n  },\n  buildResource: function buildResource(resourceName, methods) {\n    var _this2 = this;\n\n    return methods.reduce(function (resource, method) {\n      return (0, _utils.assign)(resource, _defineProperty({}, method.name, function (requestParams) {\n        var request = new _request.default(method.descriptor, requestParams);\n        return _this2.invokeMiddlewares(resourceName, method.name, request);\n      }));\n    }, {});\n  },\n  invokeMiddlewares: function invokeMiddlewares(resourceName, resourceMethod, initialRequest) {\n    var _this3 = this;\n\n    var middleware = this.manifest.createMiddleware({\n      resourceName: resourceName,\n      resourceMethod: resourceMethod\n    });\n    var GatewayClass = this.GatewayClassFactory();\n    var gatewayConfigs = this.manifest.gatewayConfigs;\n    var requestPhaseFailureContext = {\n      middleware: null,\n      returnedInvalidRequest: false,\n      abortExecution: false\n    };\n\n    var getInitialRequest = function getInitialRequest() {\n      return _this3.Promise.resolve(initialRequest);\n    };\n\n    var chainRequestPhase = function chainRequestPhase(next, middleware) {\n      return function () {\n        var abort = function abort(error) {\n          requestPhaseFailureContext.abortExecution = true;\n          throw error;\n        };\n\n        return _this3.Promise.resolve().then(function () {\n          return middleware.prepareRequest(next, abort);\n        }).then(function (request) {\n          if (request instanceof _request.default) {\n            return request;\n          }\n\n          requestPhaseFailureContext.returnedInvalidRequest = true;\n\n          var typeValue = _typeof(request);\n\n          var prettyType = typeValue === 'object' || typeValue === 'function' ? request.name || typeValue : typeValue;\n          throw new Error(\"[Mappersmith] middleware \\\"\".concat(middleware.__name, \"\\\" should return \\\"Request\\\" but returned \\\"\").concat(prettyType, \"\\\"\"));\n        }).catch(function (e) {\n          requestPhaseFailureContext.middleware = middleware.__name;\n          throw e;\n        });\n      };\n    };\n\n    var prepareRequest = middleware.reduce(chainRequestPhase, getInitialRequest);\n    var executions = 0;\n\n    var executeMiddlewareStack = function executeMiddlewareStack() {\n      return prepareRequest().catch(function (e) {\n        var returnedInvalidRequest = requestPhaseFailureContext.returnedInvalidRequest,\n            abortExecution = requestPhaseFailureContext.abortExecution,\n            middleware = requestPhaseFailureContext.middleware;\n\n        if (returnedInvalidRequest || abortExecution) {\n          throw e;\n        }\n\n        var error = new Error(\"[Mappersmith] middleware \\\"\".concat(middleware, \"\\\" failed in the request phase: \").concat(e.message));\n        error.stack = e.stack;\n        throw error;\n      }).then(function (finalRequest) {\n        executions++;\n\n        if (executions > _this3.maxMiddlewareStackExecutionAllowed) {\n          throw new Error(\"[Mappersmith] infinite loop detected (middleware stack invoked \".concat(executions, \" times). Check the use of \\\"renew\\\" in one of the middleware.\"));\n        }\n\n        var renew = executeMiddlewareStack;\n\n        var chainResponsePhase = function chainResponsePhase(next, middleware) {\n          return function () {\n            return middleware.response(next, renew);\n          };\n        };\n\n        var callGateway = function callGateway() {\n          return new GatewayClass(finalRequest, gatewayConfigs).call();\n        };\n\n        var execute = middleware.reduce(chainResponsePhase, callGateway);\n        return execute();\n      });\n    };\n\n    return new this.Promise(function (resolve, reject) {\n      executeMiddlewareStack().then(function (response) {\n        return resolve(response);\n      }).catch(reject);\n    });\n  }\n};\nvar _default = ClientBuilder;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _methodDescriptor = _interopRequireDefault(require(\"./method-descriptor\"));\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\n/**\n * @typedef Manifest\n * @param {Object} obj\n *   @param {String} obj.host\n *   @param {Object} obj.gatewayConfigs - default: base values from mappersmith\n *   @param {Object} obj.ignoreGlobalMiddleware - default: false\n *   @param {Object} obj.resources - default: {}\n *   @param {Array}  obj.middleware or obj.middlewares - default: []\n * @param {Object} globalConfigs\n */\nfunction Manifest(obj, _ref) {\n  var _ref$gatewayConfigs = _ref.gatewayConfigs,\n      gatewayConfigs = _ref$gatewayConfigs === void 0 ? null : _ref$gatewayConfigs,\n      _ref$middleware = _ref.middleware,\n      middleware = _ref$middleware === void 0 ? [] : _ref$middleware,\n      _ref$context = _ref.context,\n      context = _ref$context === void 0 ? {} : _ref$context;\n  this.host = obj.host;\n  this.bodyAttr = obj.bodyAttr;\n  this.headersAttr = obj.headersAttr;\n  this.authAttr = obj.authAttr;\n  this.timeoutAttr = obj.timeoutAttr;\n  this.clientId = obj.clientId || null;\n  this.gatewayConfigs = (0, _utils.assign)({}, gatewayConfigs, obj.gatewayConfigs);\n  this.resources = obj.resources || {};\n  this.context = context;\n  var clientMiddleware = obj.middleware || obj.middlewares || []; // TODO: deprecate obj.middlewares in favor of obj.middleware\n\n  if (obj.ignoreGlobalMiddleware) {\n    this.middleware = clientMiddleware;\n  } else {\n    this.middleware = _toConsumableArray(clientMiddleware).concat(_toConsumableArray(middleware));\n  }\n}\n\nManifest.prototype = {\n  eachResource: function eachResource(callback) {\n    var _this = this;\n\n    Object.keys(this.resources).forEach(function (resourceName) {\n      var methods = _this.eachMethod(resourceName, function (methodName) {\n        return {\n          name: methodName,\n          descriptor: _this.createMethodDescriptor(resourceName, methodName)\n        };\n      });\n\n      callback(resourceName, methods);\n    });\n  },\n  eachMethod: function eachMethod(resourceName, callback) {\n    return Object.keys(this.resources[resourceName]).map(callback);\n  },\n  createMethodDescriptor: function createMethodDescriptor(resourceName, methodName) {\n    var definition = this.resources[resourceName][methodName];\n\n    if (!definition || !definition.path) {\n      throw new Error(\"[Mappersmith] path is undefined for resource \\\"\".concat(resourceName, \"\\\" method \\\"\").concat(methodName, \"\\\"\"));\n    }\n\n    return new _methodDescriptor.default((0, _utils.assign)({\n      host: this.host,\n      bodyAttr: this.bodyAttr,\n      headersAttr: this.headersAttr,\n      authAttr: this.authAttr,\n      timeoutAttr: this.timeoutAttr\n    }, definition));\n  },\n\n  /**\n   * @param {Object} args\n   *   @param {String|Null} args.clientId\n   *   @param {String} args.resourceName\n   *   @param {String} args.resourceMethod\n   *   @param {Object} args.context\n   *   @param {Boolean} args.mockRequest\n   *\n   * @return {Array<Object>}\n   */\n  createMiddleware: function createMiddleware() {\n    var _this2 = this;\n\n    var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var createInstance = function createInstance(middlewareFactory) {\n      return (0, _utils.assign)({\n        __name: middlewareFactory.name || middlewareFactory.toString(),\n        response: function response(next) {\n          return next();\n        },\n\n        /**\n         * @since 2.27.0\n         * Replaced the request method\n         */\n        prepareRequest: function prepareRequest(next) {\n          var _this3 = this;\n\n          return this.request ? next().then(function (req) {\n            return _this3.request(req);\n          }) : next();\n        }\n      }, middlewareFactory((0, _utils.assign)(args, {\n        clientId: _this2.clientId,\n        context: (0, _utils.assign)({}, _this2.context)\n      })));\n    };\n\n    return this.middleware.map(createInstance);\n  }\n};\nvar _default = Manifest;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = MethodDescriptor;\n\n/**\n * @typedef MethodDescriptor\n * @param {Object} obj\n *   @param {String} obj.host\n *   @param {String} obj.path\n *   @param {String} obj.method\n *   @param {Object} obj.headers\n *   @param {Object} obj.params\n *   @param {Object} obj.queryParamAlias\n *   @param {String} obj.bodyAttr - body attribute name. Default: 'body'\n *   @param {String} obj.headersAttr - headers attribute name. Default: 'headers'\n *   @param {String} obj.authAttr - auth attribute name. Default: 'auth'\n *   @param {Number} obj.timeoutAttr - timeout attribute name. Default: 'timeout'\n */\nfunction MethodDescriptor(obj) {\n  this.host = obj.host;\n  this.path = obj.path;\n  this.method = obj.method || 'get';\n  this.headers = obj.headers;\n  this.params = obj.params;\n  this.queryParamAlias = obj.queryParamAlias || {};\n  this.binary = obj.binary || false;\n  this.bodyAttr = obj.bodyAttr || 'body';\n  this.headersAttr = obj.headersAttr || 'headers';\n  this.authAttr = obj.authAttr || 'auth';\n  this.timeoutAttr = obj.timeoutAttr || 'timeout';\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _utils = require(\"./utils\");\n\nvar REGEXP_DYNAMIC_SEGMENT = /{([^}]+)}/;\nvar REGEXP_TRAILING_SLASH = /\\/$/;\n/**\n * @typedef Request\n * @param {MethodDescriptor} methodDescriptor\n * @param {Object} requestParams, defaults to an empty object ({})\n */\n\nfunction Request(methodDescriptor, requestParams) {\n  this.methodDescriptor = methodDescriptor;\n  this.requestParams = requestParams || {};\n}\n\nRequest.prototype = {\n  /**\n   * @return {Object}\n   */\n  params: function params() {\n    var _this = this;\n\n    var params = (0, _utils.assign)({}, this.methodDescriptor.params, this.requestParams);\n\n    var isParam = function isParam(key) {\n      return key !== _this.methodDescriptor.headersAttr && key !== _this.methodDescriptor.bodyAttr && key !== _this.methodDescriptor.authAttr && key !== _this.methodDescriptor.timeoutAttr;\n    };\n\n    return Object.keys(params).reduce(function (obj, key) {\n      if (isParam(key)) {\n        obj[key] = params[key];\n      }\n\n      return obj;\n    }, {});\n  },\n\n  /**\n   * Returns the HTTP method in lowercase\n   *\n   * @return {String}\n   */\n  method: function method() {\n    return this.methodDescriptor.method.toLowerCase();\n  },\n\n  /**\n   * Returns host name without trailing slash\n   * Example: http://example.org\n   *\n   * @return {String}\n   */\n  host: function host() {\n    return (this.methodDescriptor.host || '').replace(REGEXP_TRAILING_SLASH, '');\n  },\n\n  /**\n   * Returns path with parameters and leading slash.\n   * Example: /some/path?param1=true\n   *\n   * @throws {Error} if any dynamic segment is missing.\n   * Example:\n   * Imagine the path '/some/{name}', the error will be similar to:\n   * '[Mappersmith] required parameter missing (name), \"/some/{name}\" cannot be resolved'\n   *\n   * @return {String}\n   */\n  path: function path() {\n    var _this2 = this;\n\n    var path = this.methodDescriptor.path;\n\n    if (this.methodDescriptor.path[0] !== '/') {\n      path = \"/\".concat(this.methodDescriptor.path);\n    }\n\n    var params = this.params();\n    Object.keys(params).forEach(function (key) {\n      var value = params[key];\n      var pattern = \"{\".concat(key, \"}\");\n\n      if (new RegExp(pattern).test(path)) {\n        path = path.replace(\"{\".concat(key, \"}\"), value);\n        delete params[key];\n      }\n    });\n    var missingDynamicSegmentMatch = path.match(REGEXP_DYNAMIC_SEGMENT);\n\n    if (missingDynamicSegmentMatch) {\n      throw new Error(\"[Mappersmith] required parameter missing (\".concat(missingDynamicSegmentMatch[1], \"), \\\"\").concat(path, \"\\\" cannot be resolved\"));\n    }\n\n    var aliasedParams = Object.keys(params).reduce(function (aliased, key) {\n      var aliasedKey = _this2.methodDescriptor.queryParamAlias[key] || key;\n      aliased[aliasedKey] = params[key];\n      return aliased;\n    }, {});\n    var queryString = (0, _utils.toQueryString)(aliasedParams);\n\n    if (queryString.length !== 0) {\n      var hasQuery = path.includes('?');\n      path += \"\".concat(hasQuery ? '&' : '?').concat(queryString);\n    }\n\n    return path;\n  },\n\n  /**\n   * Returns the full URL\n   * Example: http://example.org/some/path?param1=true\n   *\n   * @return {String}\n   */\n  url: function url() {\n    return \"\".concat(this.host()).concat(this.path());\n  },\n\n  /**\n   * Returns an object with the headers. Header names are converted to\n   * lowercase\n   *\n   * @return {Object}\n   */\n  headers: function headers() {\n    return (0, _utils.lowerCaseObjectKeys)((0, _utils.assign)({}, this.methodDescriptor.headers, this.requestParams[this.methodDescriptor.headersAttr]));\n  },\n\n  /**\n   * Utility method to get a header value by name\n   *\n   * @param {String} name\n   *\n   * @return {String|Undefined}\n   */\n  header: function header(name) {\n    return this.headers()[name.toLowerCase()];\n  },\n  body: function body() {\n    return this.requestParams[this.methodDescriptor.bodyAttr];\n  },\n  auth: function auth() {\n    return this.requestParams[this.methodDescriptor.authAttr];\n  },\n  timeout: function timeout() {\n    return this.requestParams[this.methodDescriptor.timeoutAttr];\n  },\n\n  /**\n   * Enhances current request returning a new Request\n   * @param {Object} extras\n   *   @param {Object} extras.params - it will be merged with current params\n   *   @param {Object} extras.headers - it will be merged with current headers\n   *   @param {String|Object} extras.body - it will replace the current body\n   *   @param {Object} extras.auth - it will replace the current auth\n   *   @param {Number} extras.timeout - it will replace the current timeout\n   */\n  enhance: function enhance(extras) {\n    var headerKey = this.methodDescriptor.headersAttr;\n    var bodyKey = this.methodDescriptor.bodyAttr;\n    var authKey = this.methodDescriptor.authAttr;\n    var timeoutKey = this.methodDescriptor.timeoutAttr;\n    var requestParams = (0, _utils.assign)({}, this.requestParams, extras.params);\n    requestParams[headerKey] = (0, _utils.assign)({}, this.requestParams[headerKey], extras.headers);\n    extras.body && (requestParams[bodyKey] = extras.body);\n    extras.auth && (requestParams[authKey] = extras.auth);\n    extras.timeout && (requestParams[timeoutKey] = extras.timeout);\n    return new Request(this.methodDescriptor, requestParams);\n  },\n\n  /**\n   * Is the request expecting a binary response?\n   *\n   * @return {Boolean}\n   */\n  isBinary: function isBinary() {\n    return this.methodDescriptor.binary;\n  }\n};\nvar _default = Request;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _gateway = _interopRequireDefault(require(\"../gateway\"));\n\nvar _response = _interopRequireDefault(require(\"../response\"));\n\nvar _utils = require(\"../utils\");\n\nvar _timeoutError = require(\"./timeout-error\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar toBase64 = window.btoa || _utils.btoa;\n\nfunction XHR(request) {\n  _gateway.default.apply(this, arguments);\n}\n\nXHR.prototype = _gateway.default.extends({\n  get: function get() {\n    var xmlHttpRequest = this.createXHR();\n    xmlHttpRequest.open('GET', this.request.url(), true);\n    this.setHeaders(xmlHttpRequest, {});\n    this.configureTimeout(xmlHttpRequest);\n    this.configureBinary(xmlHttpRequest);\n    xmlHttpRequest.send();\n  },\n  head: function head() {\n    var xmlHttpRequest = this.createXHR();\n    xmlHttpRequest.open('HEAD', this.request.url(), true);\n    this.setHeaders(xmlHttpRequest, {});\n    this.configureTimeout(xmlHttpRequest);\n    this.configureBinary(xmlHttpRequest);\n    xmlHttpRequest.send();\n  },\n  post: function post() {\n    this.performRequest('post');\n  },\n  put: function put() {\n    this.performRequest('put');\n  },\n  patch: function patch() {\n    this.performRequest('patch');\n  },\n  delete: function _delete() {\n    this.performRequest('delete');\n  },\n  configureBinary: function configureBinary(xmlHttpRequest) {\n    if (this.request.isBinary()) {\n      xmlHttpRequest.responseType = 'blob';\n    }\n  },\n  configureTimeout: function configureTimeout(xmlHttpRequest) {\n    var _this = this;\n\n    this.canceled = false;\n    this.timer = null;\n    var timeout = this.request.timeout();\n\n    if (timeout) {\n      xmlHttpRequest.timeout = timeout;\n      xmlHttpRequest.addEventListener('timeout', function () {\n        _this.canceled = true;\n        clearTimeout(_this.timer);\n        var error = (0, _timeoutError.createTimeoutError)(\"Timeout (\".concat(timeout, \"ms)\"));\n\n        _this.dispatchClientError(error.message, error);\n      }); // PhantomJS doesn't support timeout for XMLHttpRequest\n\n      this.timer = setTimeout(function () {\n        _this.canceled = true;\n        var error = (0, _timeoutError.createTimeoutError)(\"Timeout (\".concat(timeout, \"ms)\"));\n\n        _this.dispatchClientError(error.message, error);\n      }, timeout + 1);\n    }\n  },\n  configureCallbacks: function configureCallbacks(xmlHttpRequest) {\n    var _this2 = this;\n\n    xmlHttpRequest.addEventListener('load', function () {\n      if (_this2.canceled) {\n        return;\n      }\n\n      clearTimeout(_this2.timer);\n\n      _this2.dispatchResponse(_this2.createResponse(xmlHttpRequest));\n    });\n    xmlHttpRequest.addEventListener('error', function (e) {\n      if (_this2.canceled) {\n        return;\n      }\n\n      clearTimeout(_this2.timer);\n      var guessedErrorCause = e ? e.message || e.name : xmlHttpRequest.responseText;\n      var errorMessage = 'Network error';\n      var enhancedMessage = guessedErrorCause ? \": \".concat(guessedErrorCause) : '';\n      var error = new Error(\"\".concat(errorMessage).concat(enhancedMessage));\n\n      _this2.dispatchClientError(errorMessage, error);\n    });\n    var xhrOptions = this.options().XHR;\n\n    if (xhrOptions.withCredentials) {\n      xmlHttpRequest.withCredentials = true;\n    }\n\n    if (xhrOptions.configure) {\n      xhrOptions.configure(xmlHttpRequest);\n    }\n  },\n  performRequest: function performRequest(method) {\n    var requestMethod = this.shouldEmulateHTTP() ? 'post' : method;\n    var xmlHttpRequest = this.createXHR();\n    xmlHttpRequest.open(requestMethod.toUpperCase(), this.request.url(), true);\n    var customHeaders = {};\n    var body = this.prepareBody(method, customHeaders);\n    this.setHeaders(xmlHttpRequest, customHeaders);\n    this.configureTimeout(xmlHttpRequest);\n    this.configureBinary(xmlHttpRequest);\n    var args = [];\n    body && args.push(body);\n    xmlHttpRequest.send.apply(xmlHttpRequest, args);\n  },\n  createResponse: function createResponse(xmlHttpRequest) {\n    var status = xmlHttpRequest.status;\n    var data = this.request.isBinary() ? xmlHttpRequest.response : xmlHttpRequest.responseText;\n    var responseHeaders = (0, _utils.parseResponseHeaders)(xmlHttpRequest.getAllResponseHeaders());\n    return new _response.default(this.request, status, data, responseHeaders);\n  },\n  setHeaders: function setHeaders(xmlHttpRequest, customHeaders) {\n    var auth = this.request.auth();\n\n    if (auth) {\n      var username = auth.username || '';\n      var password = auth.password || '';\n      customHeaders['authorization'] = \"Basic \".concat(toBase64(\"\".concat(username, \":\").concat(password)));\n    }\n\n    var headers = (0, _utils.assign)(customHeaders, this.request.headers());\n    Object.keys(headers).forEach(function (headerName) {\n      xmlHttpRequest.setRequestHeader(headerName, headers[headerName]);\n    });\n  },\n  createXHR: function createXHR() {\n    var xmlHttpRequest = new XMLHttpRequest(); // eslint-disable-line no-undef\n\n    this.configureCallbacks(xmlHttpRequest);\n    return xmlHttpRequest;\n  }\n});\nvar _default = XHR;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _utils = require(\"./utils\");\n\nvar _mappersmith = require(\"./mappersmith\");\n\nvar _response = _interopRequireDefault(require(\"./response\"));\n\nvar _timeoutError = require(\"./gateway/timeout-error\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar REGEXP_EMULATE_HTTP = /^(delete|put|patch)/i;\n\nfunction Gateway(request) {\n  var configs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  this.request = request;\n  this.configs = configs;\n\n  this.successCallback = function () {};\n\n  this.failCallback = function () {};\n}\n\nGateway.extends = function (methods) {\n  return (0, _utils.assign)({}, Gateway.prototype, methods);\n};\n\nGateway.prototype = {\n  options: function options() {\n    return this.configs;\n  },\n  shouldEmulateHTTP: function shouldEmulateHTTP() {\n    return this.options().emulateHTTP && REGEXP_EMULATE_HTTP.test(this.request.method());\n  },\n  call: function call() {\n    var _this = this,\n        _arguments = arguments;\n\n    var timeStart = (0, _utils.performanceNow)();\n    return new _mappersmith.configs.Promise(function (resolve, reject) {\n      _this.successCallback = function (response) {\n        response.timeElapsed = (0, _utils.performanceNow)() - timeStart;\n        resolve(response);\n      };\n\n      _this.failCallback = function (response) {\n        response.timeElapsed = (0, _utils.performanceNow)() - timeStart;\n        reject(response);\n      };\n\n      try {\n        _this[_this.request.method()].apply(_this, _arguments);\n      } catch (e) {\n        _this.dispatchClientError(e.message, e);\n      }\n    });\n  },\n  dispatchResponse: function dispatchResponse(response) {\n    response.success() ? this.successCallback(response) : this.failCallback(response);\n  },\n  dispatchClientError: function dispatchClientError(message, error) {\n    if ((0, _timeoutError.isTimeoutError)(error) && this.options().enableHTTP408OnTimeouts) {\n      this.failCallback(new _response.default(this.request, 408, message, {}, [error]));\n    } else {\n      this.failCallback(new _response.default(this.request, 400, message, {}, [error]));\n    }\n  },\n  prepareBody: function prepareBody(method, headers) {\n    var body = this.request.body();\n\n    if (this.shouldEmulateHTTP()) {\n      body = body || {};\n      (0, _utils.isPlainObject)(body) && (body._method = method);\n      headers['x-http-method-override'] = method;\n    }\n\n    var bodyString = (0, _utils.toQueryString)(body);\n\n    if (bodyString) {\n      // If it's not simple, let the browser (or the user) set it\n      if ((0, _utils.isPlainObject)(body)) {\n        headers['content-type'] = 'application/x-www-form-urlencoded;charset=utf-8';\n      }\n    }\n\n    return bodyString;\n  }\n};\nvar _default = Gateway;\nexports.default = _default;"],"sourceRoot":""}