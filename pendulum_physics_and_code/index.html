<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.173a4a3cf60d43dad634.css">#disqus_thread{width:95%;margin:auto}img{max-width:100%}dt{display:inline-block;padding-right:6px}h1{-webkit-margin-before:1;margin-block-start:1}body{margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}code{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}</style><meta name="generator" content="Gatsby 2.10.0"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link as="script" rel="preload" href="/webpack-runtime-5243e0c9a4d9a774e3d3.js"/><link as="script" rel="preload" href="/app-21fc68e12026d4f56d04.js"/><link as="script" rel="preload" href="/styles-5e880e2b29a97829e614.js"/><link as="script" rel="preload" href="/3-ad71d96fd82024b8fb17.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-a18c9f435623d6d2fddf.js"/><link as="fetch" rel="preload" href="/page-data/pendulum_physics_and_code/page-data.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div style="margin-left:auto;margin-right:auto;max-width:600px;padding-left:15px;padding-right:15px"><div style="display:table-row"><div style="display:table-cell;padding-right:7px"><a href="/"><img alt="Go Home" height="30" src="/home_icon.png" style="vertical-align:text-bottom"/></a></div><div style="display:table-cell"><h1>Pendulum Physics and Code</h1></div></div><time dateTime="2010-09-30">2010-09-30</time><dl><span style="margin-right:8px"><a href="/tags/mathematics">mathematics</a></span><span style="margin-right:8px"><a href="/tags/physics">physics</a></span><span style="margin-right:8px"><a href="/tags/programming">programming</a></span></dl><article><p><a href="/pendulum-c404280c0ac8b0616aab1e509abfd5b1.png"><img src="/pendulum-c404280c0ac8b0616aab1e509abfd5b1.png"></a></p>
<p>Sometimes it's nice to forget about 3rd party components, big clunky libraries, the Facebook API, etc. and just simulate a simple physical system from first principles. Here's "mass on a string":</p>
<p>Newton's 2nd law, amath`vec F=m vec a`endamath says that an object's acceleration is dependent on the force on that object. If you push something, its speed will increase in the direction of your push. And it takes harder pushing to move things with more mass as fast as it does little things.</p>
<p>When a mass is <em>pivoting</em> instead of free to move (like a pendulum), the analogy of <em>force</em> is <em>torque</em>, which is represented by the greek amath`tau`endamath. Torque is the force <em>along the pivot path</em> multiplied by the distance from the force to the pivot point (the radius). amath`tau = F_tan * r`endamath.</p>
<p>amath`tau`endamath is like amath`vec F`endamath</p>
<p>Mass is a measure of how difficult it is to accelerate an object. The amount you have to push a pivoting body depends on the distance from the pivot to where you are pushing (think of opening a door by pushing on the handle vs. pushing right next to the hinge.) So in the pivoting case, the analogy for "mass" appears in the equation as the moment of inertia, which depends on plain old mass and how far the mass is from the pivot (radius) : amath`I = m * r^2`endamath.</p>
<p>amath`I`endamath is like amath`m`endamath</p>
<p>When pivoting, we keep track of position by noting the angle, call it amath`theta`endamath. Then the velocity is the change in angle during each second, call it amath`omega`endamath. Finally, the acceleration is the change in angular velocity each second, call it amath`alpha`endamath.</p>
<p>amath`alpha`endamath is like amath`vec a`endamath</p>
<p>So for the pendulum, Newton's second law is like amath`tau = I alpha`endamath.</p>
<p>Let's look at the terms involved.</p>
<p>The force for a pendulum is supplied by gravity and has magnitude amath`m*g`endamath where amath`m`endamath is the mass of the pendulum and amath`g`endamath is how hard the earth pulls on stuff. The tricky part about a pendulum is that this force is always changing direction when the pendulum swings, and we need to know how much of this force is <em>along the swing path</em> of the pendulum.</p>
<p>Let's call the position angle of the pendulum <em>zero</em> when the pendulum is hanging straight down. When at angle zero, the earth is pulling the string straight down and none of the weight force is in the direction of swing. Then when the pendulum is straight out at 90 degrees, <em>all</em> of the force is against the swing path. To find the force along the path, we need to multiply the force by a changing number that is 0% at zero degrees, -100% at 90 degrees and some appropriate in-between number at every angle between zero and 90. The negative of the trigonometric function <em>sinus</em> does this perfectly. The force along the swing path of a pendulum is amath`m*g*-sin theta`endamath.</p>
<p>Now we can expand amath`tau = I alpha`endamath into terms that we can easily supply:</p>
<p>amath`m*g*-sin theta * r = m * r^2 * alpha`endamath</p>
<p>This is more than what we need to describe the motion of the pendulum. We can divide both sides by amath`r^2`endamath and by amath`m`endamath so this is more simply amath`alpha = -g/r * sin theta`endamath. The term amath`-g/r`endamath is a constant that we can tune to make the program simulate a good-looking pendulum. To draw a pendulum on the screen, we must know its position, amath`theta`endamath. That means we can do a simple multiplication to find out how the angle-change rate is changing.</p>
<p>To program this, keep variables for <strong>theta</strong>=amath`theta`endamath, which is the current angle of the pendulum, <strong>omega</strong>=amath`omega`endamath, which is how the position is changing and <strong>alpha</strong>=amath`alpha`endamath, which is how <strong>omega</strong> is changing. Each frame (or interval/timer event if you're into that kind of thing), multiply your tuned constant by minus sinus of the current <strong>theta</strong> to calculate the new <strong>alpha</strong>. Add that new <strong>alpha</strong> to <strong>omega</strong> and add <strong>omega</strong> to <strong>theta</strong>. Then rotate the pendulum graphic to the new value of <strong>theta</strong>. Schwing!</p>
<p>(click to increase <strong>omega</strong>)</p>
<object type="application/x-shockwave-flash"  width="200" height="200">
  <param name="movie" value="/pendulum1-fb4fd86286398fd0ab9f8985b28c0e6e.swf" />
</object>
<p><a href="undefined">as3 demo source</a></p></article><div style="width:100%;position:relative;padding-top:40px;margin-bottom:40px"><span style="float:left"><div><a href="/screw_advance_box_joint_jig">&lt; newer</a></div><div><em>Screw Advance Box Joint Jig</em></div></span><span style="float:right;text-align:right"><div><a href="/count_buffon_s_needle">older &gt;</a></div><div><em>Count Buffon&#x27;s Needle</em></div></span><div style="clear:both;height:1px"></div></div><div id="disqus_thread" title="Pendulum Physics and Code"></div></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-6502690-13', 'auto', {});
      
      
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/pendulum_physics_and_code";window.webpackCompilationHash="06c3b2cc2bb20354b202";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-21fc68e12026d4f56d04.js"],"component---src-templates-post-js":["/component---src-templates-post-js-a18c9f435623d6d2fddf.js"],"component---src-templates-tags-js":["/component---src-templates-tags-js-3acc9b97e8733618f0be.js"],"component---src-pages-fdg-js":["/component---src-pages-fdg-js-780582374a1257ab6655.js"],"component---src-pages-fdp-js":["/component---src-pages-fdp-js-ecc4a114a2a566204de8.js"],"component---src-pages-fdsp-js":["/component---src-pages-fdsp-js-5b8c0266c30d01ba684c.js"],"component---src-pages-force-directed-graph-demo-index-js":["/component---src-pages-force-directed-graph-demo-index-js-7e1b9ab36d59f5fc1f75.js"],"component---src-pages-force-directed-posts-index-js":["/component---src-pages-force-directed-posts-index-js-337e9a2f257874d0c584.js"],"component---src-pages-force-directed-snapped-posts-index-js":["/component---src-pages-force-directed-snapped-posts-index-js-cc7095dc479ed3948c60.js"],"component---src-pages-force-directed-snapped-posts-play-pause-button-js":["/component---src-pages-force-directed-snapped-posts-play-pause-button-js-d345af308bd168a1b2a3.js"],"component---src-pages-ifdp-js":["/component---src-pages-ifdp-js-042f2e3a1b37d1c4cafd.js"],"component---src-pages-incremented-force-directed-posts-index-js":["/component---src-pages-incremented-force-directed-posts-index-js-c94ec745384a78450abe.js"],"component---src-pages-incremented-force-directed-posts-play-pause-button-js":["/component---src-pages-incremented-force-directed-posts-play-pause-button-js-1aeb953ffec2fcdba657.js"],"component---src-pages-index-js":["/component---src-pages-index-js-f0b71cf47d1470c88751.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-cb01ac109f044b80ef17.js"]};/*]]>*/</script><script src="/component---src-templates-post-js-a18c9f435623d6d2fddf.js" async=""></script><script src="/3-ad71d96fd82024b8fb17.js" async=""></script><script src="/styles-5e880e2b29a97829e614.js" async=""></script><script src="/app-21fc68e12026d4f56d04.js" async=""></script><script src="/webpack-runtime-5243e0c9a4d9a774e3d3.js" async=""></script></body></html>